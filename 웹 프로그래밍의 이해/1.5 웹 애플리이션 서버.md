## 1.5 웹 애플리이션 서버

웹 클라이언트를 웹 서버와 웹 애플리게이션 서버로 분류할수 있다

- 웹 서버 : 웹 클라이언트 요청을 받아 처리, 그 결과를 웹 클라이언트에게 응답, 주로 정적 페이지인 HTML,이미지,CSS,자바스크립트 파일을 제공할 때
  - `Apache httpd,Nginx,lighttpd,, IIS`

- 웹 애플리케이션 서버 :  웹 서버로부터 동적 페이지 요청을 받아 처리하고 웹 서버로반환, 주로 동적 페이지 생성 프로그램과 데이터베이스 연동 기능을 처리
  - `Apache Tomcat, JBoss, WebLogic, WebSphere, Jetty, Jeus , mod_wsgi , uWSGI, GUnicon`

#### 1.5.1 정적 페이지 , 동적 페이지

- 정적 페이지 -  누가 요구 하더라도 항상 같은 내용을 표시하는 웹 페이지
  - HTML,Javascript,CSS,이미지

- 동적 페이지 - 누가, 언제, 어떻게 요구했는지에 따라 각각 다른 내용이 반환되는 페이지

- CGI(common gateway interface) - 별도의 프로그램과 웹 서버 사이에 정보를 주고 받는 규칙을 정의한 것

#### 1.5.2 CGI 방식의 단점

- CGI - 웹 서버와 독립적인 프로그램 사이에 정보를 주고 받는 규격
  - 여러 언어로 만들어진 CGI 프로그램을 직접 호출하여 개별 프로세스를 생성하는 방식

- 문제점  
  - 각각의 클라이언트 요청에 따라 별도의 프로세스 생성 
  -  프로세스가 많아 질 수록 메모리 요구량도 커져 부하를 주는 요인이 됨

#### 1.5.3 CGI 방식의 대안 기술

별도의 애플리케이션을 Perl,PHP 등 스크립트 언어로 작성, **스크립트 처리하는 엔진을 웹서버에 내장**, 오버헤드를 줄이는 방식

python 경우에는 `mod_wsgi` 모듈을 사용

또는 애플리케이션을 처리하는 프로세스를 미리 데몬으로 기동시킨 후 웹 서버의 요청을 데몬에서 처리함

`mod_wsgi`은 웹 서버 내장방식으로 실행 가능 or 별도의 데몬 방식으로 실행이 가능

- 차후에 스레드 처리 보강, 객체 지향 기술 반영 -> 애플리케이션 서버 방식으로 발전

- `JSP, ASP` 기술에서 애플리케이션 서버 방식을 사용함

파이썬에서는 `mod_wsgi,uwsgi,gunicorn` 등이 웹 애플리케이션 서버라 할 수 있다

#### 1.5.4 애플리케이션 서버 방식

![서버간 구성도](https://kookyungmin.github.io/image/S_Note_image/s_note_image_01.png)

- 웹 서버와 웹 애플리케이션 서버가 분리됨에 따라, 서로의 역할도 구분하여 사용하는 것이 좋음
- **동적 페이지 처리가 메모리 소비가 심하다**
- 웹 애플리케이션은 동적 페이지만, 웹 서버는 정적 페이지만 처리하는 것이 더 효율적이다

동시에 접속을 허가하는 클라이언트 수의 제한 & 처리 프로세스 관리,여청 기록 등 여러가지 기능을 제공

#### 1.5.5 웹 서버와의 역할 구분

- 대형 웹 사이트 에서는 HW 증설에 의해 웹 처리 용량을 높이는 작업이 용이하도록, 웹 서버 HW, 웹 애플리케이션 서버 HW 박스를 분리하여 구성